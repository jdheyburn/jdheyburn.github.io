<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Joseph D. Heyburn"><meta name=description content="Ramblings of a tech guy"><meta name=keywords content="blog,developer,devops,cloud"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jdheyburn.co.uk/local_example_site.jpg"><meta name=twitter:title content="Who Goes Blogging 1: Getting Started"><meta name=twitter:description content="Create your own portfolio site with no hassle using Hugo and GitHub Pages"><meta property="og:title" content="Who Goes Blogging 1: Getting Started"><meta property="og:description" content="Create your own portfolio site with no hassle using Hugo and GitHub Pages"><meta property="og:type" content="article"><meta property="og:url" content="https://jdheyburn.co.uk/blog/who-goes-blogging-1-getting-started/"><meta property="og:image" content="https://jdheyburn.co.uk/local_example_site.jpg"><meta property="article:published_time" content="2019-11-09T00:00:00+00:00"><meta property="article:modified_time" content="2019-11-13T00:00:00+00:00"><base href=https://jdheyburn.co.uk/blog/who-goes-blogging-1-getting-started/><title>Who Goes Blogging 1: Getting Started · JDHeyburn</title><link rel=canonical href=https://jdheyburn.co.uk/blog/who-goes-blogging-1-getting-started/><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.11.2/css/all.css integrity=sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=https://jdheyburn.co.uk/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://jdheyburn.co.uk/css/coder-dark.min.83a2010dac9f59f943b3004cd6c4f230507ad036da635d3621401d42ec4e2835.css integrity="sha256-g6IBDayfWflDswBM1sTyMFB60DbaY102IUAdQuxOKDU=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=https://jdheyburn.co.uk/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://jdheyburn.co.uk/images/favicon-16x16.png sizes=16x16><meta name=generator content="Hugo 0.69.0"></head><body class=colorscheme-dark><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://jdheyburn.co.uk/>JDHeyburn</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://jdheyburn.co.uk/blog/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://jdheyburn.co.uk/contact/>Contact</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title>Who Goes Blogging 1: Getting Started</h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fas fa-calendar"></i><time datetime=2019-11-09T00:00:00Z>9 November 2019</time></span>
<span class=reading-time><i class="fas fa-clock"></i>8-minute read</span></div><div class=tags><i class="fas fa-tag"></i><a href=https://jdheyburn.co.uk/tags/architecture/>architecture</a>
<span class=separator>•</span>
<a href=https://jdheyburn.co.uk/tags/cdn/>cdn</a>
<span class=separator>•</span>
<a href=https://jdheyburn.co.uk/tags/cloudflare/>cloudflare</a>
<span class=separator>•</span>
<a href=https://jdheyburn.co.uk/tags/portfolio-site/>portfolio-site</a>
<span class=separator>•</span>
<a href=https://jdheyburn.co.uk/tags/github-pages/>github-pages</a></div></div></header><div><aside><nav id=TableOfContents><ul><li><a href=#pre-requisites--assumptions>Pre-requisites & Assumptions</a></li><li><a href=#hugo-static-site-builder>Hugo Static Site Builder</a></li><li><a href=#git-set-up>Git Set Up</a></li><li><a href=#blog-bootstrapping>Blog Bootstrapping</a><ul><li><a href=#serves-up>Serves Up!</a></li><li><a href=#experimenting>Experimenting</a></li><li><a href=#theme-git-submodules>Theme Git Submodules</a></li></ul></li><li><a href=#releasing-into-the-wild>Releasing into the wild</a><ul><li><a href=#bash-script-deploying>Bash Script Deploying</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></aside><p>I&rsquo;ve done a lot of talking about how this website is currently, but let&rsquo;s talk about how you can get set up with the same as I have done here. Let&rsquo;s recap exactly what that is:</p><ol><li>A GitHub repo with the site source code</li><li>Another GitHub project with the rendered site</li><li>Hosted on GitHub Pages</li><li>Fronted by a custom domain</li><li>Globally cached by a CDN</li><li>Redirecting multiple domains</li></ol><p>We&rsquo;ll cover the first three points in this post, with the remainder to come in a follow up post.</p><h2 id=pre-requisites--assumptions>Pre-requisites & Assumptions</h2><p>These series of posts is aimed at between the newcomer, to intermediate programmer. There may be some concepts which I won&rsquo;t be covering to due brevity, and because there are several guides out there who have explained these concepts better than I could.</p><p>Having said that, I assume you are comfortable with the following:</p><ul><li>Navigating your way through a terminal</li><li>Happy with the basic set of <code>git</code> commands</li><li>Understand how website requests are made (though this isn&rsquo;t crucial)</li></ul><h2 id=hugo-static-site-builder>Hugo Static Site Builder</h2><p>There are many website building platforms out there for your static sites. There is no one platform to rule them all, you should decide on which one works best for you. For myself, I wanted to explore further into the realm of Golang as a learning opportunity. I&rsquo;ve built websites from scratch before from basic HTML, CSS, and JavaScript all the way to using frameworks such as React and Angular.</p><p>However while using these frameworks provide you with the highest flexibility in terms of customisability, they can take a while to get something out there and hosted, when really you just want something to generate the HTML and CSS for you and allow you to focus on the content.</p><p>That&rsquo;s where static site frameworks come in. They usually have some opinionated folder structure and some nuances on how things in a website should be, but comply by these rules and the website will be generated for you! Once such example is <a href=https://gohugo.io/>Hugo</a> - which is what this website is built on; it&rsquo;s opensource and written in Golang, you can even check out the <a href=https://github.com/gohugoio/hugo>source code</a> to see how it works!</p><blockquote><p>While Hugo itself is free and comes with a bunch of <a href=https://themes.gohugo.io/>themes</a> you can use for free, there are fancier and more feature-rich themes available to purchase from designers which may have a cost attached to them.</p></blockquote><p>Hugo isn&rsquo;t the only static site framework out there, there are plenty more too each with their own pros and cons. I won&rsquo;t aim to reproduce a complete list of comparisons against other platforms, other people have already made the comparisons much better than I could! But nevertheless, some that I am aware of off the top of my head are <a href=https://jekyllrb.com/>Jekyll</a>, <a href=https://ghost.org/>Ghost</a>, and the infamous <a href=https://wordpress.com/>WordPress</a> - so investigate using your search engine of choice if you wish to know the differences.</p><blockquote><p><strong>UPDATE 2019-11-30</strong></p><p>I came across <a href="https://news.ycombinator.com/item?id=21616149">this thread</a> on HackerNews which ultimately lead me to these comparison websites for static site generators:</p><p><a href=https://www.staticgen.com/>https://www.staticgen.com/</a></p><p><a href=https://staticsitegenerators.net/>https://staticsitegenerators.net/</a></p></blockquote><p>All set on Hugo? Awesome - let&rsquo;s get started on some project foundations.</p><h2 id=git-set-up>Git Set Up</h2><p>I mentioned before I split my website into two repos:</p><ul><li><a href=https://github.com/jdheyburn/jdheyburn.co.uk>jdheyburn.co.uk</a> holds all the source code</li><li><a href=https://github.com/jdheyburn/jdheyburn.github.io>jdheyburn.github.io</a> holds the rendered website</li></ul><p>For the first repo, it doesn&rsquo;t really matter what you call it - you can call it your destined domain name, or <code>blog-source</code>, or <code>dogs-are-great</code>. It&rsquo;s the second one which you will need to think about, where it must be <code>&lt;YOUR_USERNAME>.github.io</code> - which will ultimately be made available at <code>https://&lt;YOUR_USERNAME>.github.io</code>.</p><p>Create two <a href=https://github.com/new>empty Github repos now</a>, then clone both to your environment. If you don&rsquo;t have git available in your terminal, check out <a href=https://help.github.com/en/github/getting-started-with-github/set-up-git>this guide</a> to get set up.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mkdir ~/projects
<span style=color:#24909d>cd</span> projects
git clone https://github.com/&lt;USERNAME&gt;/blog-source.git
git clone https://github.com/&lt;USERNAME&gt;/&lt;USERNAME&gt;.github.io.git
</code></pre></div><p>Now that we have the repos set up, let&rsquo;s get started on building the website templates.</p><h2 id=blog-bootstrapping>Blog Bootstrapping</h2><p>Before you get started, you&rsquo;re going to need to install Hugo - head to <a href=https://gohugo.io/getting-started/installing>this page</a> for instructions on going so. Once done continue on below.</p><p>Firstly you would need to create your Hugo template. You can do this from either executing <code>hugo new &lt;site|theme></code> and building up from there - or do what I did which was to browse the <a href=https://themes.gohugo.io/>Hugo themes</a> and <code>git clone</code> the example site for the chosen theme and then make your changes around that. It may entirely depend on your learning approach which way works best for you.</p><p>In my case, I wanted to get up and running in the smallest time possible (isn&rsquo;t that the point of static site generators?), so I followed the approach above.</p><h3 id=serves-up>Serves Up!</h3><p>The theme this blog uses as of publication is <a href=https://themes.gohugo.io/hugo-coder/>hugo-coder</a>, written by <a href=https://luizdepra.dev/>Luiz de Prá</a>. You may wish to use it, or something else. It&rsquo;s entirely up to you! Let&rsquo;s get started by laying down the foundations and cloning the theme.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#24909d>cd</span> ~/projects
git clone https://github.com/luizdepra/hugo-coder.git
cp -r hugo-coder/exampleSite blog-source
mkdir blog-source/themes
ln -s ~/projects/hugo-coder blog-source/themes/hugo-coder
<span style=color:#24909d>cd</span> blog-source
hugo serve
</code></pre></div><p>That last command will locally serve the example site, so that you can view it at <code>http://localhost:1313/</code>.</p><figure><img src=local_example_site.jpg alt="Screenshot depicting the locally run example site"><figcaption><p>Success!</p></figcaption></figure><h3 id=experimenting>Experimenting</h3><p>Once you have the site hosted locally, feel free to make as many changes as you like to gain an understanding of how everything plugs together.</p><p>The <code>blog-template/config.toml</code> file will contain the majority of configurations that are used to generate the site. Go ahead and even comment out some config and see what affect that has. You can even <a href=https://github.com/jdheyburn/jdheyburn.co.uk/blob/master/config.toml>be nosey at my config file</a> if you&rsquo;re looking for some inspiration! The <code>hugo serve</code> command will watch all files in the directory for any changes you make, rebuild them, and refresh your webpage too with the changes - making for hasty development!</p><p>The Hugo config file will be a source of many informations, and the <a href=https://gohugo.io/getting-started/configuration/>documentation for it is very thorough</a>. While we&rsquo;re on the subject, the rest of the Hugo documentation is great, so check the rest of it out if you haven&rsquo;t done so already - particularly how the <a href=https://gohugo.io/getting-started/directory-structure/>directories are structured</a>, and how <a href=https://gohugo.io/content-management/>content is managed</a>.</p><p>I advise you now go off and explore all the customisation options for your site, when you&rsquo;re ready to have it deployed, continue on reading.</p><h3 id=theme-git-submodules>Theme Git Submodules</h3><p>When we were setting up the <code>exampleSite</code> locally, we created a symlink from <code>~/projects/blog-source/themes/hugo-coder</code> -> <code>~/projects/hugo-coder</code>. This is okay for local development, however not particularly the best practice in the real world. We want to take an existing git repo (hugo-coder) and apply that to a directory in our project, but what we <em>don&rsquo;t</em> want to do is duplicate the code in our own repo.</p><p>This problem is solved exactly by <a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules><strong>git submodules</strong></a>, and we define it within the <code>.gitmodules</code> file of our source code repo.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#999;font-style:italic># .gitmodules</span>
[submodule <span style=color:#ed9d13>&#34;themes/hugo-coder&#34;</span>]
	<span style=color:#40ffff>path</span> = themes/hugo-coder
	<span style=color:#40ffff>url</span> = https://github.com/luizdepra/hugo-coder.git
</code></pre></div><p>Now when this file is checked into the repo, any future clones will also include the hugo theme as a submodule in the <code>themes/hugo-coder</code> directory.</p><p>Once you&rsquo;ve done this, your source code is all set! Why not share it with the rest of the world?</p><h2 id=releasing-into-the-wild>Releasing into the wild</h2><p>So far we have only been playing with the <code>hugo serve</code> command, which is great for local development but not for production. There is a more appropriate command for building hugo projects - aptly named <code>hugo</code>; pretty simple right?</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>hugo
</code></pre></div><p>This renders the HTML and CSS files from your config and markdown for the theme and places them in the <code>public/</code> directory of your source code repo. In theory once you&rsquo;ve executed this command you can host a webserver at that address and everything would operate as normal. Why not give it a try?</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#24909d>cd</span> public/
python -m SimpleHTTPServer <span style=color:#3677a9>8080</span>
</code></pre></div><p>We can even go one step further by adding flags to the <code>hugo</code> command, such as <code>--minify</code> which will minimalise all the supported files into a much smaller size, resulting in faster load times for your users.</p><p>Since we are still in our source code repo, we want to make sure that <code>public/</code> directory doesn&rsquo;t get included in future commits. This is because the <code>blog-source</code> repo should be entirely for source code, our other repo is the one that holds the rendered code.</p><p>For this we can utilise a <code>.gitignore</code> file, instructing git to ignore any files that match the terms in the contents. Let&rsquo;s get one created now and check our code into the repo.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#24909d>echo</span> <span style=color:#ed9d13>&#34;public/\nresources/&#34;</span> &gt; .gitignore
git add .
git commit -m <span style=color:#ed9d13>&#39;Initial commit&#39;</span>
git push
</code></pre></div><p>We&rsquo;re currently committing to one repo, however we want GitHub Pages to host it for us. As mentioned earlier, GP can only host repos at the domain <code>github.io</code>, so we need to get our rendered website into that repo.</p><h3 id=bash-script-deploying>Bash Script Deploying</h3><p>Now the original way I did this was through a simple bash script which largely followed <a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/#step-by-step-instructions>this process</a> as documented by the Hugo team. Note that this is largely the process we have followed thus far, with the exception of step 6 onwards - so ensure you follow those steps.</p><blockquote><p>I&rsquo;ve since moved over onto a CI/CD platform which I will discuss in a future post.</p></blockquote><p>After following the process in the link prior, you should be able to invoke your deploy script at <code>./deploy.sh</code>, which will push the built <code>public/</code> directory to your <code>&lt;USERNAME>.github.io</code>. GitHub should pick up that this is a GitHub Pages repo and have your site ready for you at <code>https://&lt;USERNAME>.github.io</code>!</p><h2 id=conclusion>Conclusion</h2><p>In this post, we have done the following:</p><ol><li>Created two GitHub repos:<ul><li>one for storing the source code for the website</li><li>another containing the rendered web pages</li></ul></li><li>Built Hugo locally for development using <code>hugo serve</code></li><li>Written a script for deployment</li><li>Deployed to GitHub Pages</li></ol><p>Next up, we&rsquo;ll be adding a custom domain to the site, front it with a CDN, and redirect multiple domains to it.</p></div><footer><section class=see-also><h3>See also in Who Goes Blogging</h3><nav><ul><li><a href=https://jdheyburn.co.uk/blog/who-goes-blogging-4-content-structure-and-refactoring/>Who Goes Blogging 4: Content Structure & Refactoring</a></li><li><a href=https://jdheyburn.co.uk/blog/who-goes-blogging-3-2-deployment-methods-github-actions/>Who Goes Blogging 3.2: Deployment Methods - GitHub Actions</a></li><li><a href=https://jdheyburn.co.uk/blog/who-goes-blogging-3-1-deployment-methods-travisci/>Who Goes Blogging 3.1: Deployment Methods - TravisCI</a></li><li><a href=https://jdheyburn.co.uk/blog/who-goes-blogging-2-custom-domain/>Who Goes Blogging 2: Custom Domain</a></li><li><a href=https://jdheyburn.co.uk/blog/who-goes-blogging-0-applying-cartography/>Who Goes Blogging 0: Applying Cartography</a></li></ul></nav></section></footer></article></section></div><footer class=footer><section class=container>©
2020
Joseph D. Heyburn
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-139246187-1','auto');ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html>